# C++ 多线程编程学习指南

## 目录
- [Lesson 1: 线程基础入门](#lesson-1-线程基础入门)
- [Lesson 2: 线程生命周期](#lesson-2-线程生命周期)
- [Lesson 3: 互斥锁基础](#lesson-3-互斥锁基础)
- [Lesson 4: 数据共享和保护](#lesson-4-数据共享和保护)
- [Lesson 5: 条件变量](#lesson-5-条件变量)
- [Lesson 6: 原子操作](#lesson-6-原子操作)

## Lesson 1: 线程基础入门

### 学习目标
- 理解线程的基本概念
- 学会创建和管理线程
- 掌握向线程传递参数的方法

### 知识点
1. 线程的创建
   - 使用std::thread创建线程
   - 使用lambda表达式创建线程
   - 使用函数对象创建线程

2. 参数传递
   - 传递基本类型参数
   - 传递引用类型参数
   - 传递类对象参数

### 练习
1. 创建多个线程并让它们同时运行
2. 尝试使用不同方式传递参数给线程
3. 实现一个多线程计数器程序

## Lesson 2: 线程生命周期

### 学习目标
- 理解join()和detach()的区别
- 掌握线程的生命周期管理
- 学会处理线程异常

### 知识点
1. 线程的状态
   - 可结合的（Joinable）
   - 已分离的（Detached）
   - 已完成的（Finished）

2. 线程管理
   - join()的使用场景
   - detach()的使用场景
   - RAII方式管理线程

### 练习
1. 比较join和detach的使用场景
2. 实现一个线程安全的RAII包装器
3. 处理线程异常情况

## Lesson 3: 互斥锁基础

### 学习目标
- 理解数据竞争问题
- 掌握互斥锁的使用
- 学会保护共享资源

### 知识点
1. 互斥锁基础
   - std::mutex的使用
   - lock()和unlock()
   - std::lock_guard的使用

2. 共享资源保护
   - 临界区概念
   - RAII锁管理
   - 死锁预防

### 练习
1. 实现一个线程安全的计数器
2. 模拟银行账户的存取款操作
3. 实现一个简单的线程安全队列

## Lesson 4: 数据共享和保护

### 学习目标
- 深入理解临界区
- 学会避免死锁
- 掌握多锁使用技巧

### 知识点
1. 多锁管理
   - std::lock的使用
   - 避免死锁的策略
   - 锁的粒度控制

2. 高级锁类型
   - std::unique_lock
   - std::shared_lock
   - 读写锁

### 练习
1. 实现一个线程安全的链表
2. 模拟多账户转账场景
3. 实现读写锁保护的数据结构

## Lesson 5: 条件变量

### 学习目标
- 理解线程同步机制
- 掌握条件变量的使用
- 实现线程间通信

### 知识点
1. 条件变量基础
   - std::condition_variable的使用
   - wait()和notify()机制
   - 虚假唤醒问题

2. 同步模式
   - 生产者-消费者模式
   - 信号量模式
   - 屏障模式

### 练习
1. 实现生产者-消费者模式
2. 创建一个简单的任务队列
3. 实现线程同步的事件系统

## Lesson 6: 原子操作

### 学习目标
- 理解原子操作的概念
- 掌握原子类型的使用
- 了解内存序

### 知识点
1. 原子操作基础
   - std::atomic的使用
   - 原子操作类型
   - CAS操作

2. 内存序
   - 顺序一致性
   - 获取释放语义
   - 松散序

### 练习
1. 比较互斥锁和原子操作的性能
2. 实现无锁数据结构
3. 创建原子计数器

## 学习建议
1. 每节课建议学习时间：1-2天
2. 确保完全理解当前内容再进入下一课
3. 多做练习和实验
4. 尝试结合实际项目应用所学知识

## 进阶项目建议
1. 实现线程池
2. 创建并发数据结构
3. 开发简单的多线程应用
4. 优化现有多线程程序

## 参考资源
1. C++ 参考文档
2. C++ Concurrency in Action（书籍）
3. 开源项目学习 